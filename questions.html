<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Page</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div id="navbar-container"></div>
    <div id="question-container"></div>
    <button onclick="goBack()">Back to Menu</button>

    <script>
        // Function to extract query parameters from URL
        function getQueryParam(param) {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            return urlParams.get(param);
        }

        // Function to fetch questions from JSON file
        async function fetchQuestions() {
            try {
                const response = await fetch('questions.json'); // Path to your JSON file
                if (!response.ok) {
                    throw new Error('Failed to fetch questions');
                }
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error fetching questions:', error);
                return [];
            }
        }

        // Function to display the question based on ID
        async function displayQuestionById(questionId) {
            const questionsData = await fetchQuestions();
            const questionContainer = document.getElementById('question-container');

            const question = questionsData.find(q => q.id === parseInt(questionId));

            if (question) {
                try {
                    let htmlContent = `<p><strong>Question:</strong> ${question.question}</p>`;
                    htmlContent += '<ul>';
                    question.answers.forEach(answer => {
                        htmlContent += `<li>${renderMath(answer.text)} ${answer.correct ? '(Correct)' : ''}</li>`;
                    });
                    htmlContent += '</ul>';
                    htmlContent += `<p><strong>Explanation:</strong> ${question.explanation || 'N/A'}</p>`;
                    questionContainer.innerHTML = htmlContent;

                    await MathJax.typesetPromise();

                } catch (error) {
                    console.error('Error rendering math with MathJax:', error);
                }

            } else {
                questionContainer.innerHTML = `<p>Question not found for ID: ${questionId}</p>`;
            }
        }

        // Function to render LaTeX math content using MathJax
        function renderMath(mathText) {
            return `<span class="math-container">${mathText}</span>`;
        }

        // Get the question ID from the URL query parameter
        const questionId = getQueryParam('id');

        // Display the question based on the extracted ID
        displayQuestionById(questionId);

        // Function to navigate back to the menu page
        function goBack() {
            window.location.href = 'catalogue.html'; // Replace 'catalogue.html' with your actual menu page URL
        }
    </script>
     <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navbarContainer = document.getElementById('navbar-container');
        
            fetch('navbar.html')
                .then(response => response.text())
                .then(html => {
                    navbarContainer.innerHTML = html;
                    // Any additional JavaScript logic to initialize navbar functionality
                })
                .catch(error => {
                    console.error('Failed to fetch navbar:', error);
                });
        });
    </script>



<button id="night-mode-toggle" class="btn" onclick="toggleNightMode()">Night Mode</button>
<link rel="stylesheet" href="common.css">
<script>
            function toggleNightMode() {
            const body = document.body;
            body.classList.toggle('night-mode');
            
            // Check if night mode is currently enabled
            const nightModeEnabled = body.classList.contains('night-mode');
            
            // Store the night mode preference in localStorage
            localStorage.setItem('nightMode', nightModeEnabled);
                }
        function applyNightMode() {
            const body = document.body;
            const nightModeEnabled = localStorage.getItem('nightMode') === 'true';

            if (nightModeEnabled) {
                body.classList.add('night-mode');
            } else {
                body.classList.remove('night-mode');
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const nightModeEnabled = localStorage.getItem('nightMode') === 'true';

            if (nightModeEnabled) {
                body.classList.add('night-mode');
            } else {
                body.classList.remove('night-mode');
            }

            // Show night mode toggle button after applying night mode
            const nightModeToggle = document.getElementById('night-mode-toggle');
            nightModeToggle.style.display = 'block';
        });

// Call applyNightMode() when the page is loaded
document.addEventListener('DOMContentLoaded', applyNightMode);
</script>


<style>
#question-container{
 border-top-left-radius:0px;
 padding-left:30px;
}
button:nth-child(3){
 transform:translatex(911px) translatey(375px);
}
</style>
</body>
</html>
